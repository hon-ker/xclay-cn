(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5362],{98553:function(e,t){"use strict";t.Z={src:"/_next/static/media/hi.77b51852.svg",height:142,width:142,blurWidth:0,blurHeight:0}},57113:function(e,t,s){"use strict";var l=s(85893),r=s(67294),a=s(94055);let n=e=>{let{content:t}=e,[s,n]=(0,r.useState)(null),o=e=>{n(e.currentTarget)},i=()=>{n(null)};return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(a.default,{placement:"bottom",overlayClassName:"oc-300 ",title:()=>(0,l.jsx)("div",{className:"p-2",children:t}),children:(0,l.jsx)("div",{className:"ml-1","aria-owns":s?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:o,onMouseLeave:i,onClick:o,children:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5 text-n-9",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"})})})})})};t.Z=n},9892:function(e,t,s){"use strict";var l=s(85893),r=s(67294),a=s(25675),n=s.n(a);let o=e=>{let{className:t,...s}=e,[a,o]=(0,r.useState)(!1);return(0,l.jsx)(n(),{className:"inline-block align-top opacity-0 transition-opacity ".concat(a&&"opacity-100"," ").concat(t),onLoadingComplete:()=>o(!0),...s})};t.Z=o},55281:function(e,t,s){"use strict";s.d(t,{Z:function(){return eH}});var l=s(85893),r=s(67294),a=s(41664),n=s.n(a),o=s(66180),i=s(76265),c=s(9008),d=s.n(c),m=s(1852),h=s.n(m),u=s(20104),g=s(44319),x=s(11163);let p=e=>{let{visible:t,items:s}=e,r=(0,x.useRouter)();return(0,l.jsx)("div",{className:"".concat(t&&"px-2"),children:s.map((e,s)=>e.url?(0,l.jsxs)(n(),{className:(0,o.m)("flex items-center h-12 base2 font-semibold text-n-3/75 rounded-lg transition-colors hover:text-n-1 ".concat(r.pathname===e.url&&"text-n-1 bg-gradient-to-l from-[#323337] to-[rgba(70,79,111,0.3)] shadow-[inset_0px_0.0625rem_0_rgba(255,255,255,0.05),0_0.25rem_0.5rem_0_rgba(0,0,0,0.1)]"," ").concat(t?"px-3":"px-5")),href:e.url||"/",target:e.target,passHref:!0,id:"AI_".concat(e.id),children:["APIDocs"==e.id?(0,l.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24px",height:"24px",viewBox:"0 0 24 24",fill:"none",stroke:"#D5A953",children:[(0,l.jsx)("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),(0,l.jsx)("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round",stroke:"#CCCCCC",strokeWidth:"0.144"}),(0,l.jsxs)("g",{id:"SVGRepo_iconCarrier",children:[" ",(0,l.jsx)("path",{d:"M19 3L5 3C3.89543 3 3 3.89543 3 5L3 19C3 20.1046 3.89543 21 5 21H19C20.1046 21 21 20.1046 21 19V5C21 3.89543 20.1046 3 19 3Z",stroke:"十六进制值:; rgb 代码值：rgb(213,169,83)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",(0,l.jsx)("path",{d:"M7 7L17 7",stroke:"十六进制值:; rgb 代码值：rgb(213,169,83)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",(0,l.jsx)("path",{d:"M7 12L17 12",stroke:"十六进制值:; rgb 代码值：rgb(213,169,83)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})," ",(0,l.jsx)("path",{d:"M7 17L13 17",stroke:"十六进制值:; rgb 代码值：rgb(213,169,83)",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]})]}):(0,l.jsx)(g.Z,{className:e.color,name:e.icon}),!t&&(0,l.jsx)("div",{className:"ml-5",children:e.title})]},s):"Image"===e.title?(0,l.jsxs)("button",{className:"flex items-center w-full h-12 base2 font-semibold text-n-3/75 rounded-lg transition-colors hover:text-n-1 ",onClick:e.onClick,children:[(0,l.jsx)(g.Z,{className:e.color,name:e.icon}),!t&&(0,l.jsx)("div",{className:"ml-5",children:e.title})]},s):(0,l.jsxs)("button",{className:"flex items-center w-full h-12 base2 font-semibold text-n-3/75 rounded-lg transition-colors hover:text-n-1 ".concat(t?"px-3":"px-5"),onClick:e.onClick,children:[(0,l.jsx)(g.Z,{className:e.color,name:e.icon}),!t&&(0,l.jsx)("div",{className:"ml-5",children:e.title}),"Search"===e.title&&!t&&(0,l.jsx)("div",{className:"ml-auto px-2 rounded-md bg-n-4/50 caption1 font-semibold text-n-3",children:"⌘ F"})]},s))})};var f=s(9892),b=s(26970),v=s(78270);let j=e=>{let{buttons:t,value:s,setValue:r}=e,a=e=>{r(e)};return t.map((e,t)=>e.bigTitle?(0,l.jsx)("div",{className:"font-semibold text-xs px-3.5 py-3.5 ",children:e.bigTitle},t):(0,l.jsxs)("div",{className:"mb-1",children:["delete-account"===e.id&&(0,l.jsx)("div",{className:"h-0.25 my-3 bg-n-3 dark:bg-n-6"}),(0,l.jsxs)("button",{className:"group flex items-center w-full px-3.5 py-1.5 rounded-full border-2 border-transparent base2 font-semibold transition-colors hover:bg-n-2 tap-highlight-color dark:hover:bg-n-6 dark:hover:text-n-1 ".concat("delete-account"===e.id?"!text-accent-1 ".concat(s===e&&"!border-accent-1 !bg-n-1 dark:!bg-transparent"):"text-n-4 ".concat(s===e&&"!border-primary-1 text-n-7 !bg-n-1 dark:!bg-transparent dark:text-n-1")),onClick:()=>a(e),children:[(0,l.jsx)(g.Z,{className:"w-4 h-4 mr-3 transition-colors ".concat("delete-account"===e.id?"!fill-accent-1":"fill-n-4 ".concat(s===e&&"fill-n-7 dark:fill-n-1 dark:group-hover:fill-n-1")),name:e.icon}),e.title]})]},t))};var _=s(7938),y=s(4869),w=s(9473),N=s(23330);let k=(0,r.lazy)(()=>s.e(6840).then(s.bind(s,16840))),T=(0,r.lazy)(()=>s.e(8124).then(s.bind(s,28124))),E=(0,r.lazy)(()=>s.e(5335).then(s.bind(s,95335))),C=(0,r.lazy)(()=>s.e(2209).then(s.bind(s,2209))),S=(0,r.lazy)(()=>s.e(5535).then(s.bind(s,85535))),I=(0,r.lazy)(()=>s.e(8050).then(s.bind(s,28050))),R=(0,r.lazy)(()=>Promise.all([s.e(2196),s.e(2554),s.e(9411),s.e(1902),s.e(4012),s.e(2816)]).then(s.bind(s,32816))),O=(0,r.lazy)(()=>Promise.all([s.e(1098),s.e(2554),s.e(9411),s.e(4749),s.e(1902),s.e(2891),s.e(1997),s.e(2287)]).then(s.bind(s,92287))),H=e=>{let{activeItem:t,onItemClick:s,onClose:a}=e,[n,o]=(0,r.useState)(-1),[i,c]=(0,r.useState)(null),[d,h]=(0,r.useState)([]),u=(0,m.useMediaQuery)({query:"(max-width: 767px)"}),{userInfo:{globalOrgId:g}}=(0,w.v9)(e=>e),{language:{browserLanguage:x}}=(0,w.v9)(e=>e),p=[{bigTitle:"USER",id:"USER"},{id:"edit-profile",title:(0,N.VQ)("SETTINGS_PROFILE",x),icon:"profile"},{id:"password",title:(0,N.VQ)("SETTINGS_PASSWORD",x),icon:"lock-1"},{id:"apikeys",title:"API keys",icon:"lock"},{bigTitle:"ORGANIZATION",id:"ORGANIZATION"},{id:"team",title:(0,N.VQ)("SETTINGS_TEAM",x),icon:"user-check"},{id:"members",title:(0,N.VQ)("SETTINGS_TEAM_TITTLE",x),icon:"users-plus"},{id:"usage",title:(0,N.VQ)("SETTINGS_USEAGE",x),icon:"trophy"},{id:"org_settings",title:(0,N.VQ)("SETTINGS_ORGANIZATION_SETTINGS",x),icon:"container"},{id:"SETTING",bigTitle:"SETTING"},{id:"appearance",title:(0,N.VQ)("SETTINGS_APPEARANCE",x),icon:"sun"}],f=async e=>{try{let t=await(0,y.BY)(e);t.success&&o(t.data.role)}catch(e){console.error(e)}};return(0,r.useEffect)(()=>{if(-1!=n&&2==n){let e=p.filter(e=>"usage"!==e.id&&"org_settings"!==e.id);h(e)}else-1!=n&&h(p)},[n,x]),(0,r.useEffect)(()=>{g&&f(g)},[g]),(0,r.useEffect)(()=>{if(d.length>0){if(t){let e=d.find(e=>e.id===t);e&&c(e)}else c(d[1])}},[t,d,g]),(0,r.useEffect)(()=>{if((0,N.s2)()){let e=document.getElementById("__ybug-launcher");e.classList.add("ybug-mobile")}},[]),(0,l.jsx)("div",{className:"p-12 lg:px-8 md:pt-16 md:px-5 md:pb-8",style:{minHeight:620},children:(0,l.jsxs)("div",{className:"flex md:block",children:[u?(0,l.jsx)(l.Fragment,{children:d.length>0&&(0,l.jsx)(v.Z,{className:"mb-6",classButton:"dark:bg-transparent",classArrow:"dark:fill-n-4",items:d,value:i,onChange:e=>{c(e),s&&s(e.id)}})}):(0,l.jsx)("div",{className:"shrink-0 w-[13.25rem]",children:i&&d.length>0&&(0,l.jsx)(j,{value:i,setValue:e=>{console.log(e,"value"),c(e),s&&s(e.id)},buttons:d})}),(0,l.jsx)(r.Suspense,{fallback:(0,l.jsx)(_.Z,{}),children:(0,l.jsxs)("div",{className:"grow pl-12 md:pl-0 ",children:[(null==i?void 0:i.id)==="edit-profile"&&(0,l.jsx)(k,{}),(null==i?void 0:i.id)==="password"&&(0,l.jsx)(T,{}),(null==i?void 0:i.id)==="apikeys"&&(0,l.jsx)(O,{}),(null==i?void 0:i.id)==="usage"&&(0,l.jsx)(R,{}),(null==i?void 0:i.id)==="org_settings"&&(0,l.jsx)(E,{}),(null==i?void 0:i.id)==="team"&&(0,l.jsx)(C,{onClose:()=>a&&a()}),(null==i?void 0:i.id)==="members"&&(0,l.jsx)(S,{}),(null==i?void 0:i.id)==="appearance"&&(0,l.jsx)(I,{})]})})]})})};var A=s(11119),M=s(98553),L=s(41478),G=s(86892),Z=s(51222);let F=e=>{let{visible:t}=e,[s,a]=(0,r.useState)(null),[n,o]=(0,r.useState)(!1),[i,c]=(0,r.useState)(""),d=(0,w.I0)();(0,x.useRouter)();let{config:{showSetting:m},language:{browserLanguage:h},userInfo:{meData:u}}=(0,w.v9)(e=>e);(0,G.Z)(()=>{let e=localStorage.getItem("token");if(e&&(null==u?void 0:u.organizations)&&u.organizations.length>0){let e=localStorage.getItem("globalOrgId")||u.organizations[0].id;a(e),d((0,Z.IM)(e))}});let g=()=>{o(!0)};return(0,r.useEffect)(()=>{m&&(c(m),o(!0))},[m]),(0,l.jsxs)("div",{className:"".concat(t?"mb-6":"mb-3 shadow-[0_1.25rem_1.5rem_0_rgba(0,0,0,0.5)] rounded-xl overflow-hidden"),children:[(0,l.jsxs)("div",{className:"".concat(!t&&"p-2.5 bg-n-6 "),children:[(0,l.jsxs)("div",{className:"flex items-center ".concat(t?"justify-center":"px-2.5 py-2.5 pb-4.5"),children:[(0,l.jsxs)("div",{className:"relative w-10 h-10 cursor-pointer",onClick:g,children:[(0,l.jsx)(f.Z,{className:"rounded-full object-cover",src:(null==u?void 0:u.avatar_url)||M.Z,fill:!0,alt:"Hi",style:{backgroundColor:"#fff"}}),(0,l.jsx)("div",{className:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 bg-primary-2 rounded-full border-4 border-n-6"})]}),!t&&(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"ml-2 mr-2",children:[(0,l.jsx)("div",{className:"base2 font-semibold text-n-1",children:null==u?void 0:u.fullname}),(0,l.jsx)("div",{className:"caption1 font-semibold text-n-3/50",children:null==u?void 0:u.email})]})})]}),!t&&(0,l.jsx)("div",{className:"btn-stroke-dark w-full mt-2",style:{cursor:"pointer"},onClick:g,children:A.HOME_LEFT_BOTTOM_BUTTON[h]||A.HOME_LEFT_BOTTOM_BUTTON.en})]}),(0,l.jsx)(b.Z,{className:"md:!p-0",classWrap:"max-w-[50rem] md:min-h-screen-ios md:rounded-none",classButtonClose:"hidden md:block md:absolute md:top-5 md:right-5 dark:fill-n-4",classOverlay:"md:bg-n-1",visible:n,onClose:()=>{o(!1),d((0,L.rI)(""))},children:n&&(0,l.jsx)(H,{activeItem:i,onItemClick:e=>{c(e)},onClose:()=>{o(!1),d((0,L.rI)(""))}})})]})};var P=s(12498),D=s(4205);let B=e=>{let{visible:t}=e,{colorMode:s,setColorMode:a}=(0,P.If)(),n=e=>{c((0,D.Eq)(!1)),a(e),window.localStorage.setItem("chakra-ui-color-mode-ai",e)},{followTheTopic:i}=(0,w.v9)(e=>e.theme),c=(0,w.I0)();return(0,r.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)"),t=window.localStorage.getItem("chakra-ui-color-mode-ai"),s=()=>{i&&a(e.matches?"dark":"light")};return void 0===e.matches?a("light"):t&&!i&&a(t),e.addEventListener("change",s),()=>{e.removeEventListener("change",s)}},[i,a]),(0,l.jsx)("div",{className:"".concat(!t&&"relative flex w-full p-1 bg-n-6 rounded-xl before:absolute before:left-1 before:top-1 before:bottom-1 before:w-[calc(50%-0.25rem)] before:bg-n-7 before:rounded-[0.625rem] before:transition-all ".concat("dark"===s&&"before:translate-x-full")),children:[{title:"Light",icon:"sun",active:"light"===s,onClick:()=>n("light")},{title:"Dark",icon:"moon",active:"dark"===s,onClick:()=>n("dark")}].map((e,s)=>(0,l.jsxs)("button",{className:(0,o.m)("relative z-1 group flex justify-center items-center ".concat(t?"flex w-full h-16 rounded-xl bg-n-6 md:w-8 md:h-8 md:mx-auto ".concat(e.active&&"hidden"):"h-10 basis-1/2 base2 font-semibold text-n-4 transition-colors hover:text-n-1 ".concat(e.active&&"text-n-1"))),onClick:e.onClick,children:[(0,l.jsx)(g.Z,{className:"fill-n-4 transition-colors group-hover:fill-n-1 ".concat(!t&&"mr-3"," ").concat(e.active&&!t&&"fill-n-1"),name:e.icon}),!t&&e.title]},s))})};var z=s(94055);let U=e=>{let{value:t,setValue:s,smallSidebar:a,visibleRightSidebar:n}=e,[c,d]=(0,r.useState)(!1),h=(0,m.useMediaQuery)({query:"(max-width: 1179px)"}),x=()=>{s(!t),a&&t?(0,i.disablePageScroll)():(0,i.enablePageScroll)(),console.log("用户请求缩小左边内容"),localStorage.setItem("LEFT_HIDE_STATUS","".concat(!t))};return(0,r.useEffect)(()=>{console.log(h,"isDesktop LeftSidebar"),h&&s(!t)},[h]),(0,l.jsxs)("div",{className:(0,o.m)("fixed z-20 top-0 left-0 bottom-0 flex flex-col pt-30 px-4 bg-n-7 md:invisible md:opacity-0 md:transition-opacity ".concat(t?"w-24 pb-38 md:w-16 md:px-0 md:pb-30":"w-[17.5rem] md:w-[17rem] pb-58"," ").concat(n?"md:visible md:opacity-100":"")),children:[(0,l.jsxs)("div",{className:"absolute top-0 right-0 left-0 flex items-center h-30 pl-7 pr-6 ".concat(t?"justify-center md:px-4":"justify-between"),children:[!t&&(0,l.jsx)(u.Z,{className:"w-[11rem] mb-4",dark:!0}),(0,l.jsx)(z.default,{placement:"right",title:"Close sidebar",trigger:["click","hover"],children:(0,l.jsx)("button",{className:"group tap-highlight-color",onClick:x,children:(0,l.jsx)(g.Z,{className:"fill-n-4 transition-colors group-hover:fill-n-3",name:t?"toggle-on":"toggle-off"})})})]}),(0,l.jsxs)("div",{className:"grow overflow-y-auto scroll-smooth scrollbar-none overflow-x-hidden",children:[(0,l.jsx)(p,{visible:t,items:[{id:"Chat",title:"Chat",icon:"chat",color:"fill-accent-2",url:"/home"},{id:"Search",title:"Search",icon:"search",color:"fill-primary-2",url:"/search"},{id:"Image",title:"Image",icon:"barcode",color:"fill-accent-1",url:"/image",onClick:()=>{}}]}),(0,l.jsx)("div",{className:"my-4 h-0.25 bg-n-6 ".concat(t?"-mx-4 md:mx-0":"-mx-2 md:mx-0")}),(0,l.jsx)(p,{visible:t,items:[{id:"APIDocs",title:"API Docs",icon:"dataflow",color:"fill-accent-5",url:"https://docs.theb.ai/",target:"_blank"},{id:"FAQUpdates",title:"FAQ",icon:"recording",color:"fill-accent-3",url:"/updates-and-faq"}]})]}),(0,l.jsxs)("div",{className:"absolute left-0 bottom-0 right-0 pb-6 px-4 bg-n-7 before:absolute before:left-0 before:right-0 before:bottom-full before:h-10 before:bg-gradient-to-t before:from-[#131617] before:to-[rgba(19,22,23,0)] before:pointer-events-none md:px-3",children:[!t&&!c&&(0,l.jsx)("a",{href:"https://www.producthunt.com/products/theb-ai/reviews?utm_source=badge-product_rating&utm_medium=badge&utm_souce=badge-theb-ai",target:"_blank",className:"mb-3 block",children:(0,l.jsx)("img",{src:"https://api.producthunt.com/widgets/embed-image/v1/product_rating.svg?product_id=549873&theme=neutral",alt:"TheB.AI - Your All-In-One AI Platform | Product Hunt",style:{width:242,height:108},width:"242",height:"108",onError:()=>{d(!0)}})}),(0,l.jsx)(F,{visible:t}),(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(B,{visible:t})})]})]})};var W=s(86501),V=s(43709),Q=s(72510),Y=s(11355),q=s(57113),K=s(67556),J=s(635);let X=e=>{let[t,s]=(0,r.useState)(!1),[a,n]=(0,r.useState)(""),[o,i]=(0,r.useState)(null),{language:{browserLanguage:c},userInfo:{meData:d}}=(0,w.v9)(e=>e),{userInfo:{globalOrgId:m}}=(0,w.v9)(e=>e),h=(0,w.I0)(),u=async e=>{try{if((null==d?void 0:d.organizations.length)>0){let t=null==d?void 0:d.organizations.find(t=>t.id===e);n(null==t?void 0:t.name)}}catch(e){console.log(e,"error")}},x=async e=>{u(e),p(e)};(0,r.useEffect)(()=>{m&&x(m)},[m]);let p=async e=>{try{let t=await(0,y.kH)(e);t.success&&i(t.data),setTimeout(()=>{s(!1)},900)}catch(e){setTimeout(()=>{s(!1)},900)}},b=e=>{s(!0),p(e)},v=()=>{h((0,K.gQ)()),h((0,J.AW)()),localStorage.removeItem("token"),localStorage.removeItem("globalOrgId"),window.location.href="/"},j=[{title:A.HOME_LEFT_BOTTOM_SWITCH_ORGANIZATION[c]||A.HOME_LEFT_BOTTOM_SWITCH_ORGANIZATION.en,icon:"users-plus",onClick:()=>h((0,L.rI)("team")),id:"team"},{title:A.HOME_LEFT_BOTTOM_LOGOUT[c]||A.HOME_LEFT_BOTTOM_LOGOUT.en,icon:"logout",onClick:()=>v(),id:"logout"}];return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"relative z-10 mr-3 lg:mr-6 md:static",children:(0,l.jsxs)(Q.v,{children:[(0,l.jsxs)(Q.v.Button,{className:"group relative w-10 h-10 rounded-full transition-shadow ui-open:shadow-[0_0_0_0.25rem_#0084FF]",onClick:()=>{u(m)},children:[(0,l.jsx)(f.Z,{className:"rounded-full object-cover",src:(null==d?void 0:d.avatar_url)||M.Z,fill:!0,alt:"Hi",style:{backgroundColor:"#fff"}}),(0,l.jsx)("div",{className:"absolute -right-0.75 -bottom-0.75 w-4.5 h-4.5 bg-primary-2 rounded-full border-4 border-n-1 dark:border-n-6"})]}),(0,l.jsx)(Y.u,{enter:"transition duration-100 ease-out",enterFrom:"transform scale-95 opacity-0",enterTo:"transform scale-100 opacity-100",leave:"transition duration-75 ease-out",leaveFrom:"transform scale-100 opacity-100",leaveTo:"transform scale-95 opacity-0",children:(0,l.jsxs)(Q.v.Items,{className:"absolute top-full -right-5 w-[19.88rem] mt-[0.9375rem] p-4 bg-n-1 border border-n-2 rounded-2xl shadow-[0px_48px_64px_-16px_rgba(0,0,0,0.25)] md:-right-38 md:w-[calc(100vw-4rem)] dark:bg-n-7 dark:border-n-5",children:[(0,l.jsx)("div",{className:"flex items-center mb-3 justify-between w-full overflow-hidden",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("div",{className:"relative w-15 h-15",children:[(0,l.jsx)(f.Z,{className:"rounded-full object-cover",src:(null==d?void 0:d.avatar_url)||M.Z,fill:!0,alt:"Hi",style:{backgroundColor:"#fff"}}),(0,l.jsx)("div",{className:"absolute right-0 bottom-0 w-4.5 h-4.5 bg-primary-2 rounded-full border-4 border-n-1 dark:border-n-7"})]}),(0,l.jsxs)("div",{className:"pl-4",children:[(0,l.jsxs)("div",{className:"h6 text-sm flex items-center",children:[A.HOME_RIGHT_TOP_CURRENT_ORGANIZATION[c]||A.HOME_RIGHT_TOP_CURRENT_ORGANIZATION.en,(0,l.jsx)(q.Z,{content:A.HOME_RIGHT_TOP_CURRENT_ORGANIZATION_NOTE[c]||A.HOME_RIGHT_TOP_CURRENT_ORGANIZATION_NOTE.en})]}),(0,l.jsxs)("div",{className:"caption1 text-n-4 ",children:[A.HOME_RIGHT_TOP_ORG[c]||A.HOME_RIGHT_TOP_ORG.en," ",a]}),(0,l.jsxs)("div",{className:"caption1 text-n-4 flex flex-col",children:[(0,l.jsxs)("div",{className:"flex items-start",children:[A.HOME_RIGHT_TOP_BALANCE[c]||A.HOME_RIGHT_TOP_BALANCE.en," ",null==o?void 0:o.balance,"$",(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-[1rem] text-n-9 h-[1rem] ml-2 cursor-pointer ".concat(t?"animate-spin":""),onClick:()=>{b(m)},children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0l3.181 3.183a8.25 8.25 0 0013.803-3.7M4.031 9.865a8.25 8.25 0 0113.803-3.7l3.181 3.182m0-4.991v4.99"})})]}),(0,l.jsxs)("div",{children:[A.HOME_RIGHT_TOP_TRIAL_BALANCE[c]||A.HOME_RIGHT_TOP_TRIAL_BALANCE.en," ",null==o?void 0:o.trial_balance,"$"]})]})]})]})}),(0,l.jsx)("div",{className:"px-4 bg-n-2 rounded-xl dark:bg-n-6",children:j.map((e,t)=>(0,l.jsx)(Q.v.Item,{children:(0,l.jsx)("div",{children:(0,l.jsxs)("button",{className:"group flex items-center w-full h-12 base2 font-semibold transition-colors hover:text-primary-1",onClick:e.onClick,id:e.id,children:[(0,l.jsx)(g.Z,{className:"mr-4 fill-n-4 transition-colors group-hover:fill-primary-1",name:e.icon}),e.title]})})},t))})]})})]})})})},$=e=>{let{visible:t,setActiveIndex:s,activeIndex:r}=e,{language:{browserLanguage:a}}=(0,w.v9)(e=>e),n=[{title:A.HOME_RIGHT_HISTORY_BUTTON[a]||A.HOME_RIGHT_HISTORY_BUTTON.en,active:0===r,onClick:()=>s(0)},{title:A.HOME_RIGHT_SETTINGS_BUTTON[a]||A.HOME_RIGHT_SETTINGS_BUTTON.en,active:1===r,onClick:()=>s(1)}];return(0,l.jsx)("div",{className:"".concat(!t&&"relative flex w-full p-1 bg-n-6 rounded-xl before:absolute before:left-1 before:top-1 before:bottom-1 before:w-[calc(50%-0.25rem)] before:bg-n-9 before:rounded-[0.625rem] before:transition-all ".concat(1===r&&"before:translate-x-full")),children:n.map((e,s)=>(0,l.jsx)("button",{className:(0,o.m)("relative z-1 group flex justify-center items-center ".concat(t?"flex w-full h-16 rounded-xl bg-n-4 md:w-8 md:h-8 md:mx-auto ".concat(e.active&&"hidden"):"h-10 basis-1/2 base2 font-semibold text-n-4 transition-colors hover:text-n-1 ".concat(e.active&&"text-n-1"))),onClick:e.onClick,children:!t&&e.title},s))})};var ee=s(59335),et=s(19205),es=s.n(et),el=s(45810),er=s(62161),ea=s(50733);let en=e=>{let{}=e;return(0,l.jsx)(l.Fragment,{children:Array.from([,,,,,].keys()).map(e=>(0,l.jsx)("div",{className:"mb-2 last:mb-0",children:(0,l.jsxs)("div",{className:"flex p-3",children:[(0,l.jsx)("div",{className:"w-5.5 h-5.5 mt-0.25 ml-0.25 mr-3 bg-n-3 rounded-md dark:bg-n-5"}),(0,l.jsxs)("div",{className:"grow",children:[(0,l.jsx)("div",{className:"w-40 h-3 mt-1.5 rounded-sm bg-n-3 dark:bg-n-5"}),(0,l.jsx)("div",{className:"h-3 mt-3.5 rounded-sm bg-n-3 dark:bg-n-5"}),(0,l.jsxs)("div",{className:"flex justify-between items-center mt-3",children:[(0,l.jsx)("div",{className:"w-7 h-7 rounded-full bg-n-3 dark:bg-n-5"}),(0,l.jsx)("div",{className:"w-12 h-2 rounded-sm bg-n-3 dark:bg-n-5"})]})]})]})},e))})},eo=e=>{let{desc:t="no data"}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center h-[20rem]",children:[(0,l.jsx)("div",{className:"w-40 h-40",children:(0,l.jsxs)("svg",{viewBox:"0 0 160 160",children:[(0,l.jsxs)("defs",{children:[(0,l.jsxs)("linearGradient",{x1:"50%",x2:"50%",y2:"100%",id:"van-empty-1-5",children:[(0,l.jsx)("stop",{stopColor:"#F2F3F5",offset:"0%"}),(0,l.jsx)("stop",{stopColor:"#DCDEE0",offset:"100%"})]}),(0,l.jsxs)("linearGradient",{x1:"95%",y1:"48%",x2:"5.5%",y2:"51%",id:"van-empty-1-6",children:[(0,l.jsx)("stop",{stopColor:"#EAEDF1",offset:"0%"}),(0,l.jsx)("stop",{stopColor:"#DCDEE0",offset:"100%"})]}),(0,l.jsxs)("linearGradient",{y1:"45%",x2:"100%",y2:"54%",id:"van-empty-1-7",children:[(0,l.jsx)("stop",{stopColor:"#EAEDF1",offset:"0%"}),(0,l.jsx)("stop",{stopColor:"#DCDEE0",offset:"100%"})]})]}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"van-empty-1-a",x1:"64%",y1:"100%",x2:"64%",children:[(0,l.jsx)("stop",{stopColor:"#FFF",offset:"0%",stopOpacity:"0.5"}),(0,l.jsx)("stop",{stopColor:"#F2F3F5",offset:"100%"})]})}),(0,l.jsxs)("g",{opacity:".8",children:[(0,l.jsx)("path",{d:"M36 131V53H16v20H2v58h34z",fill:"url(#van-empty-1-a)"}),(0,l.jsx)("path",{d:"M123 15h22v14h9v77h-31V15z",fill:"url(#van-empty-1-a)"})]}),(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"van-empty-1-b",x1:"64%",y1:"97%",x2:"64%",y2:"0%",children:[(0,l.jsx)("stop",{stopColor:"#F2F3F5",offset:"0%",stopOpacity:"0.3"}),(0,l.jsx)("stop",{stopColor:"#F2F3F5",offset:"100%"})]})}),(0,l.jsxs)("g",{opacity:".8",children:[(0,l.jsx)("path",{d:"M87 6c3 0 7 3 8 6a8 8 0 1 1-1 16H80a7 7 0 0 1-8-6c0-4 3-7 6-7 0-5 4-9 9-9Z",fill:"url(#van-empty-1-b)"}),(0,l.jsx)("path",{d:"M19 23c2 0 3 1 4 3 2 0 4 2 4 4a4 4 0 0 1-4 3v1h-7v-1l-1 1c-2 0-3-2-3-4 0-1 1-3 3-3 0-2 2-4 4-4Z",fill:"url(#van-empty-1-b)"})]}),(0,l.jsxs)("g",{transform:"translate(36 50)",fill:"none",children:[(0,l.jsxs)("g",{transform:"translate(8)",children:[(0,l.jsx)("rect",{fill:"#EBEDF0",opacity:".6",x:"38",y:"13",width:"36",height:"53",rx:"2"}),(0,l.jsx)("rect",{fill:"url(#van-empty-1-5)",width:"64",height:"66",rx:"2"}),(0,l.jsx)("rect",{fill:"#FFF",x:"6",y:"6",width:"52",height:"55",rx:"1"}),(0,l.jsxs)("g",{transform:"translate(15 17)",fill:"url(#van-empty-1-6)",children:[(0,l.jsx)("rect",{width:"34",height:"6",rx:"1"}),(0,l.jsx)("path",{d:"M0 14h34v6H0z"}),(0,l.jsx)("rect",{y:"28",width:"34",height:"6",rx:"1"})]})]}),(0,l.jsx)("rect",{fill:"url(#van-empty-1-7)",y:"61",width:"88",height:"28",rx:"1"}),(0,l.jsx)("rect",{fill:"#F7F8FA",x:"29",y:"72",width:"30",height:"6",rx:"1"})]})]})}),(0,l.jsx)("p",{className:"text-gray-600",children:t})]})})},ei=()=>{setTimeout(()=>{(0,W.ZP)(e=>(0,l.jsx)(V.Z,{iconCheck:!0,children:(0,l.jsx)("div",{className:"ml-3 h6",children:"Settings Auto Save"})}),{duration:1e3})},1e3)},ec=e=>{let{mode:t,handleNewChatClick:s}=e,a="RIGHT_SETTINGS_TIPS",[n,o]=(0,r.useState)(null),i=(0,w.I0)(),{model:{modelData:c,chatModelParams:d},imagesModel:{imagesModelData:m,imagesChatModelParams:h},chat:{chatStatus:u,imagesStatus:x,chatAboutInfo:p,imagesAboutInfo:f,selectChatHistory:b}}=(0,w.v9)(e=>e),{language:{browserLanguage:j}}=(0,w.v9)(e=>e),_=(0,r.useRef)(null),[y,k]=(0,r.useState)(null),T=async()=>{await(0,ea.hc)(e=>{k(e)})};(0,G.Z)(()=>{try{let e=(0,ea.bh)(a);"ok"!=e&&T()}catch(e){console.error(e)}}),(0,r.useEffect)(()=>{b.id&&f.id&&!n&&o(f)},[b,f,n]);let E=(e,s,l,r)=>{switch(t){case"chat":i((0,K.hR)({index:e,key:s,value:l}));break;case"images":if("new_chat"==x)i((0,J.uU)({index:e,key:s,value:l}));else if("dialogue"==x){let t=JSON.parse(JSON.stringify(f));t.params[r]=l,t.params_def[e][s]=l,console.log(t,"当前是在对话中发起的修改"),i((0,er.N_)(t))}}},C=(e,t,s,l)=>{E(e,t,s,l)},S=(e,t)=>{let{index:s,key:l,name:r}=t,a=e.target.value;E(s,l,a,r)},I=(e,t,s,l,r)=>{"integer"===l&&console.log(s=parseInt(s),"value1122"),E(e,t,s,r)},R=(e,t,s,l)=>{E(e,t,s,l)},O=(e,t)=>{let{index:s,key:l,type:r,name:a}=t,n=e.target.value;"integer"===r&&console.log(n=parseInt(n),"value1122"),E(s,l,n,a)},H=[];if("images"===t){let e=h.find(e=>e.model_id===m.model_id),t=(null==f?void 0:f.id)?f.params_def:(null==e?void 0:e.paramsAction)||[];H=t}else if("chat"===t){let e=d.find(e=>e.model_id===c.model_id);console.log(e,"paramsList");let t=(null==e?void 0:e.paramsAction)||[];H=t}return(0,r.useEffect)(()=>{let e=(0,ea.bh)(a);if(y&&"ok"!=e&&H.length>0){let e=y.right_settings_tips,t=(0,ea.zm)({steps:[{element:"#settings",popover:{title:e.steps0.title[j],description:e.steps0.description[j]}},{element:"#reset",popover:{title:e.steps1.title[j],description:e.steps1.description[j]}}],onDone(){(0,ea.PQ)(a,"ok")},onClose(){(0,ea.PQ)(a,"ok")},onComplete(){(0,ea.PQ)(a,"ok")}});_.current=t,t.drive()}},[H,y]),(0,l.jsxs)("div",{className:"".concat(es().settingsContainer," relative"),style:{height:"100%"},children:[(0,l.jsxs)("div",{className:"grow overflow-y-auto scroll-smooth w-full  flex-1 pr-[35px]",id:"settings",children:[H.length>0&&H.map((e,t)=>{switch(e.type){case"bool":return(0,l.jsxs)("div",{className:es().settingsItem,style:{marginTop:0},children:[(0,l.jsx)("div",{className:es().label,children:e.label}),(0,l.jsx)(el.Z,{disabled:!1,checked:e.default,onChange:s=>{C(t,"default",s,e.name)},offColor:"#808080",onColor:"#0000ff",height:20,width:48,handleDiameter:30,uncheckedIcon:!1,checkedIcon:!1,boxShadow:"0px 1px 5px rgba(0, 0, 0, 0.6)"})]},t);case"string":return(0,l.jsxs)("div",{className:es().settingsItem,children:[(0,l.jsx)("div",{className:es().label,children:e.label}),(0,l.jsx)(ee.Textarea,{value:e.default,onChange:s=>{S(s,{index:t,key:"default",name:e.name})},className:"".concat(es().input," outline-none"),disabled:!1,onBlur:()=>ei(),rows:5})]},t);case"number":case"integer":return(0,l.jsxs)("div",{className:es().settingsItem,children:[(0,l.jsxs)("div",{className:es().sliderLabel,children:[(0,l.jsx)("div",{className:es().label,children:e.label}),(0,l.jsx)("div",{className:es().box,children:(0,l.jsx)(ee.Input,{type:"number",value:e.default,onChange:s=>{let l=s.target.value;console.log("===================================="),console.log(l,"eValue"),console.log("===================================="),l.length>1&&"0"==l.slice(0,1)&&-1==l.indexOf(".")&&(l=l.slice(1),console.log("slice")),+l<+e.min?(I(t,"default",l,e.type,e.name),console.log(1)):+l<=+e.min?(I(t,"default",e.min,e.type,e.name),console.log(e.min,11)):+l>=+e.max?(I(t,"default",e.max,e.type,e.name),console.log(111)):1==l.length&&"0"!=l||l.indexOf(".")>-1?(I(t,"default",l,e.type,e.name),console.log(1111)):2==l.length&&"0"!=l?(I(t,"default",l,e.type,e.name),console.log(11111)):l||(I(t,"default","0",e.type,e.name),console.log(111111))},onBlur:()=>{if(""==e.default&&0!=e.default)try{ei(),I(t,"default","1",e.type,e.name)}catch(e){console.log(e,"errorerror")}else+e.default>=+e.min&&+e.default<=+e.max&&ei()},min:e.min,max:e.max,step:"number"===e.type?.01:1,className:"".concat(es().inputs," ").concat(es().hideArrows," ").concat(es().fixedSize," outline-none"),disabled:!1})})]}),(0,l.jsx)(ee.Slider,{value:String(e.default),onChange:s=>{O(s,{index:t,key:"default",type:e.type,name:e.name})},min:e.min,max:e.max,step:"number"===e.type?.01:1,color:"blue",style:{height:"5px",width:"100%",opacity:1},onBlur:()=>{ei()}})]},t);case"select":let s=e.options;if(Array.isArray(s)){let r=[];s.map(e=>{r.push({name:e[0],id:e[1]})});let a=(0,N.dc)(r);return(0,l.jsxs)("div",{className:es().settingsItem,children:[(0,l.jsx)("div",{className:es().sliderLabel,children:(0,l.jsx)("div",{className:es().label,children:e.label})}),(0,l.jsx)(v.Z,{className:"w-full mt-2",classButton:"bg-n-3/75 dark:bg-n-5/75 dark:shadow-[inset_0_0_0_0.0625rem_#232627]",items:r,value:a[e.default],onChange:s=>{R(t,"default",s.id,e.name),ei()}})]},t)}default:return null}}),0==H.length&&(0,l.jsx)(eo,{desc:"no settings"})]}),0!=H.length&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"pt-3 pr-[35px] bg-white dark:bg-n-6 flex flex-col w-full",children:(0,l.jsxs)("div",{className:"flex justify-between",id:"reset",children:["images"==t&&"dialogue"==x&&(0,l.jsxs)("button",{className:"btn-dark w-full mr-2",onClick:()=>{s()},children:[(0,l.jsx)(g.Z,{name:"plus",className:"mr-[0!important]"}),(0,l.jsx)("span",{children:A.HOME_RIGHT_BOTTOM_NEWCHAT[j]||A.HOME_RIGHT_BOTTOM_NEWCHAT.en})]}),(0,l.jsx)("button",{className:"btn-blue w-full",onClick:()=>{switch(t){case"chat":i((0,K.sg)());break;case"images":"new_chat"===x?i((0,J.rt)()):"dialogue"===x&&(console.log(n,"oldImagesAboutInfo"),i((0,er.N_)(n)))}ei()},children:(0,l.jsx)("span",{children:"Reset"})})]})})})]})};var ed=s(65880),em=s(75131),eh=s(25675),eu=s.n(eh);let eg=e=>{let{items:t,value:s,setValue:r}=e;return(0,l.jsx)(em.E,{className:"flex  flex-1 sm:flex-wrap ",value:s,onChange:r,name:"plan",children:t.map(e=>(0,l.jsxs)(em.E.Option,{value:e,className:"pt-2.5 pb-2.5  bg-n-2 border-2 border-n-2 rounded-xl transition-colors ui-checked:border-primary-1  cursor-pointer tap-highlight-color  dark:ui-checked:border-primary-1 relative mb-3 mr-6 ",children:[(0,l.jsx)("div",{className:"w-[8rem] md:w-[5rem] sm:w-[4.5rem] flex items-center",children:e.icon&&(0,l.jsx)(eu(),{src:e.icon,alt:e.name,width:128,height:64.005})}),(0,l.jsx)("div",{className:"absolute right-1 bottom-1",children:(0,l.jsx)(g.Z,{className:"ml-auto fill-primary-1 opacity-0 transition-opacity ui-checked:opacity-100",name:"check-thin"})})]},e.id))})},ex=e=>{let{onClick:t,amount:s,disabled:r}=e;return(0,l.jsx)("div",{className:"",children:(0,l.jsxs)("div",{className:"text-right",children:[(0,l.jsxs)("div",{className:"h4 mb-4",children:["Total: ",s," USD"]}),(0,l.jsx)("button",{className:"btn-blue md:w-full",type:"button",disabled:r,onClick:t,children:"Pay"})]})})};var ep=s(88107),ef=s.n(ep);let eb=()=>{let[e,t]=(0,r.useState)([]),[s,a]=(0,r.useState)("0"),{language:{browserLanguage:n}}=(0,w.v9)(e=>e);return(0,G.Z)(async()=>{try{let e=await(0,y.aN)();e.success?((0,N.hu)(Array.isArray(e.data),"充值列表数据格式不正确"),t(e.data),a(e.data.length>0?"1":"2")):a("2")}catch(e){console.error(e),a("2")}}),(0,l.jsxs)("div",{className:"h-[430px] md:h-full",children:["1"==s&&(0,l.jsx)("div",{className:"max-h-[463px] overflow-y-auto ",children:(0,l.jsx)("div",{className:" sm:px-6 lg:px-8 ",children:(0,l.jsx)("div",{className:"flow-root",children:(0,l.jsx)("div",{className:"-my-2 sm:-mx-6 lg:-mx-8",children:(0,l.jsx)("div",{className:"inline-block min-w-full py-2 align-middle",children:(0,l.jsxs)("table",{className:"min-w-full border-separate border-spacing-0",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white bg-opacity-75 py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:pl-6 lg:pl-8",children:A.RECHARGE_HISTORY_TABLE_CREATE_TIME[n]||A.RECHARGE_HISTORY_TABLE_CREATE_TIME.en}),(0,l.jsx)("th",{scope:"col",className:"sticky top-0 z-10  border-b border-gray-300 bg-white bg-opacity-75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:table-cell",children:A.RECHARGE_PAYMENT_METHOD[n]||A.RECHARGE_PAYMENT_METHOD.en}),(0,l.jsx)("th",{scope:"col",className:"sticky top-0 z-10  border-b border-gray-300 bg-white bg-opacity-75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter sm:table-cell",children:"ORGANIZATION_ID"}),(0,l.jsx)("th",{scope:"col",className:"sticky top-0 z-10  border-b border-gray-300 bg-white bg-opacity-75 px-3 py-3.5 text-left text-sm font-semibold text-gray-900 backdrop-blur backdrop-filter lg:table-cell",children:A.RECHARGE_HISTORY_TABLE_AMOUNT[n]||A.RECHARGE_HISTORY_TABLE_AMOUNT.en}),(0,l.jsx)("th",{scope:"col",className:"sticky top-0 z-10 border-b border-gray-300 bg-white bg-opacity-75 py-3.5 pl-3 pr-4 backdrop-blur backdrop-filter sm:pr-6 lg:pr-8",children:(0,l.jsx)("span",{className:"sr-only",children:"Edit"})})]})}),(0,l.jsx)("tbody",{children:e.map((t,s)=>(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{className:(0,o.m)(s!==e.length-1?"border-b border-gray-200":"","whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6 lg:pl-8 dark:text-white"),children:(0,N.ZZ)(t.create_time)}),(0,l.jsx)("td",{className:(0,o.m)(s!==e.length-1?"border-b border-gray-200":"","whitespace-nowrap  px-3 py-4 text-sm text-gray-500 dark:text-white sm:table-cell"),children:t.payment_method_name}),(0,l.jsx)("td",{className:(0,o.m)(s!==e.length-1?"border-b border-gray-200":"","whitespace-nowrap  px-3 py-4 text-sm text-gray-500 dark:text-white sm:table-cell"),children:t.organization_id}),(0,l.jsx)("td",{className:(0,o.m)(s!==e.length-1?"border-b border-gray-200":"","whitespace-nowrap  px-3 py-4 text-sm text-gray-500 dark:text-white lg:table-cell"),children:t.amount}),(0,l.jsx)("td",{className:(0,o.m)(s!==e.length-1?"border-b border-gray-200":"","relative whitespace-nowrap py-4 pr-4 pl-3 text-right text-sm font-medium sm:pr-8 lg:pr-8"),children:(0,l.jsx)("a",{href:t.payment_link,className:"text-n-9 hover:text-n-9/75",children:"waiting"==t.status?"Pay":"View"})})]},t.id))})]})})})})})}),"2"==s&&(0,l.jsx)(eo,{})]})},ev=()=>{var e;let[t,s]=(0,r.useState)([]),[a,n]=(0,r.useState)(),[i,c]=(0,r.useState)(10),[d,m]=(0,r.useState)(!1),{language:{browserLanguage:h},userInfo:{meData:{organizations:g}}}=(0,w.v9)(e=>e),[x,p]=(0,r.useState)(null),[f,b]=(0,r.useState)(0),{userInfo:{globalOrgId:j}}=(0,w.v9)(e=>e);(0,r.useEffect)(()=>{try{if(g.length>0){let e=g.filter(e=>e.id==j);p(e.length>0?e[0]:null)}}catch(e){console.error(e)}},[j,g]),(0,G.Z)(async()=>{try{let e=await(0,y.FL)();console.log(e,"resresresresres"),e.success&&(s(e.data),n(e.data[0]))}catch(e){console.error(e)}});let N=async()=>{try{m(!0);let e=await(0,y.NQ)({amount:String(i),provider:a.id},x.id||j);e.success&&(window.location.href=e.data.url),m(!1)}catch(e){console.error(e),m(!1)}},k=[{name:A.RECHARGE_NAME[h]||A.RECHARGE_NAME.en},{name:A.RECHARGE_HISTORY_TABLE_TITLE[h]||A.RECHARGE_HISTORY_TABLE_TITLE.en}];return(0,l.jsxs)("div",{className:"p-12 pt-4 lg:px-8 md:pt-16 md:px-5 md:pb-8",children:[(0,l.jsx)("div",{className:"mx-auto",children:(0,l.jsx)("div",{className:"flex h-16 justify-between",children:(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsx)("div",{className:"flex flex-shrink-0 items-center mr-8",children:(0,l.jsx)(u.Z,{className:"max-w-[6rem] mx-auto "})}),(0,l.jsx)("div",{className:"flex sm:-my-px sm:ml-6 sm:flex sm:space-x-8",children:k.map((e,t)=>(0,l.jsx)("span",{className:(0,o.m)(t===f?"border-n-9 text-n-9":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700","inline-flex items-center border-b-2 px-1 pt-1 text-sm font-medium mr-4 cursor-pointer"),onClick:()=>b(t),children:e.name},e.name))})]})})}),(0,l.jsx)("div",{className:"h-0.25 dark:border-n-5 -mx-4 md:mx-0  border-b border-gray-900/5  dark:border-transparent dark:bg-n-5/50"}),0===f&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"mt-6 mb-6 flex lg:flex-wrap",children:(0,l.jsxs)("div",{className:"flex items-center lg:w-full",children:[(0,l.jsx)("div",{className:"flex mr-4 base2",children:(0,l.jsxs)("div",{className:"mr-auto dark:text-n-4 w-[6rem] text-right",children:[(0,l.jsx)("span",{className:"text-red-500 mr-1",children:"*"}),null==(e=A.HOME_RIGHT_TOP_ORG[h]||A.HOME_RIGHT_TOP_ORG.en)?void 0:e.replace("：","")," "]})}),(0,l.jsx)("div",{className:" dark:border-n-5  lg:w-[19rem]",children:(0,l.jsx)(v.Z,{label:"",className:"shrink-0 min-w-[14.5rem]",items:g,value:x,onChange:p})})]})}),(0,l.jsx)("div",{className:"flex lg:flex-wrap",children:(0,l.jsxs)("div",{className:"flex items-center lg:w-full",children:[(0,l.jsx)("div",{className:"flex mr-4 base2",children:(0,l.jsxs)("div",{className:"mr-auto dark:text-n-4 w-[6rem] text-right",children:[(0,l.jsx)("span",{className:"text-red-500 mr-1",children:"*"}),A.RECHARGE_AMOUNT_TITLE[h]||A.RECHARGE_AMOUNT_TITLE.en,":"]})}),(0,l.jsx)("div",{className:"border border-n-3 rounded-xl dark:border-n-5 lg:w-[19rem]",children:(0,l.jsxs)("div",{className:"p-3 lg:w-full flex items-center",children:[(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-6 h-6 mr-1 text-gray-500",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818l.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,l.jsx)("input",{className:"".concat("w-full h-6 border-none bg-transparent base1 outline-none placeholder:text-n-4/50 w-[17rem]"," lg:w-full"),type:"number",name:"number",placeholder:"Please enter the payment amount",value:i,onChange:e=>{let t=e.target.value;if(t.indexOf("-")>-1)return c(5),!1;c(t)},onBlur:()=>{i<5&&c(5),String(i).indexOf(".")>-1&&c(parseInt(String(i).split(".")[0]))},required:!0,step:"1"})]})})]})}),(0,l.jsxs)("div",{className:"mb-6 flex items-center",children:[(0,l.jsx)("div",{className:"flex base2  ",children:(0,l.jsx)("div",{className:"mr-auto dark:text-n-4 w-[6rem] text-right opacity-0"})}),(0,l.jsx)("div",{className:"ml-4",children:[20,50,100,300,500,1e3].map((e,t)=>(0,l.jsxs)("button",{type:"button",onClick:()=>{c(e)},className:"rounded bg-indigo-50 w-16 py-1 text-sm font-semibold  shadow-sm hover:bg-indigo-100 text-n-9 mr-4 button_key sm:mr-2.5 sm:w-14 mt-3 ".concat(ef().sw_buttonlast),children:["$",e]},t))})]}),(0,l.jsxs)("div",{className:"flex items-start mb-3 ",children:[(0,l.jsxs)("div",{className:"mr-4  dark:text-n-4 w-[6rem] text-right base2",children:[A.RECHARGE_PAYMENT_METHOD[h]||A.RECHARGE_PAYMENT_METHOD.en,":"]}),(0,l.jsx)("div",{className:"flex-1",children:t.length>0&&(0,l.jsx)(eg,{items:t,value:a,setValue:n})})]}),(0,l.jsx)(ex,{amount:i,disabled:d,onClick:()=>N()})]}),1===f&&(0,l.jsx)(eb,{}),d&&(0,l.jsx)(_.Z,{})]})};var ej=s(69926),e_=s(96486),ey=s.n(e_);let ew=e=>{let{index:t,text:s,historyList:a,setHistoryList:n}=e,o=(0,r.useRef)(null),i=s.split(""),c=(0,ej.NI)(i.length,{opacity:1,transform:"translateY(0)",from:{opacity:0,transform:"translateY(20px)"},config:{tension:150,friction:15}});return(0,r.useEffect)(()=>(o.current=setTimeout(()=>{console.log("这个函数执行最后一次调用！");let e=ey().cloneDeep(a);e[t].newItem=!1,n(e)},3e3),()=>{o.current&&clearTimeout(o.current)}),[]),(0,l.jsx)(l.Fragment,{children:c.map((e,t)=>(0,l.jsx)(ej.q.span,{style:e,children:i[t]},t))})},eN=e=>{let{item:t,index:s,onClick:a,onDeleteClick:n,mode:o,historyList:i,setHistoryList:c}=e,[d,m]=(0,r.useState)(!1),[h,u]=(0,r.useState)(!1),[x,p]=(0,r.useState)(!1),[f,b]=(0,r.useState)(t.title),[v,j]=(0,r.useState)(0),[_,N]=(0,r.useState)(!1),{chat:{imagesAboutInfo:k,selectChatHistory:T}}=(0,w.v9)(e=>e),E=(0,w.I0)(),C=(0,r.useRef)(null),S=e=>{e.stopPropagation(),N(!0)},I=e=>{b(e.target.value)},R=async e=>{try{e&&e.stopPropagation();let t=C.current.value;try{let e=await("search"===o?(0,y.il)(T.id,t):"chat"===o?(0,y.l2)(T.id,t):(0,y.ek)(T.id,t));if(e.success){b(t),N(!1),j(1);let e=JSON.parse(JSON.stringify(i));e[s].title=t,c([...e]),E((0,er.VH)(e[s])),"images"===o&&E((0,er.N_)({...k,title:t}))}}catch(e){console.log(e,"error")}}catch(e){console.error(e,"error")}},O=async e=>{if(e.stopPropagation(),t.isNewTopic){let e=i.filter(e=>e.id!==t.id);return console.log(e,"updatedChatHistory"),n&&n(e.length),c(e),!1}try{let e=await("search"===o?(0,y.QQ)(t.id):"chat"===o?(0,y.OB)(t.id):(0,y.L5)(t.id));if(e.success){let e=i.filter(e=>e.id!==t.id);console.log(e,"updatedChatHistory"),c(e),n&&n(e.length)}}catch(e){console.error(e)}},H=e=>{e.stopPropagation(),N(!1)};(0,r.useEffect)(()=>{m(T.id===t.id),T.id===t.id?j(1):N(!1),t.title&&b(t.title)},[T.id,t.id,t.title]);let A=e=>{e.stopPropagation(),T.id!==t.id&&(j(1),(h||x)&&(p(!1),u(!1)),m(!0),a&&a(t))};return(0,l.jsx)("div",{className:"relative mt-2",id:"history_item".concat(s),children:(0,l.jsx)("div",{onClick:A,children:(0,l.jsx)("div",{className:"group py-3 pl-4 pr-3 rounded-xl transition-colors ".concat(d?"bg-n-3/75 dark:bg-n-5":"hover:bg-n-3/75 dark:hover:bg-n-5"),children:(0,l.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,l.jsx)(g.Z,{className:"w-4 h-4 mr-2 fill-n-4 transition-colors group-hover:text-primary-1",name:"chat"}),_?(0,l.jsx)("input",{type:"text",ref:C,value:f||"",onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),R())},onChange:I,autoFocus:!0,style:{background:"none",flex:3}}):(0,l.jsx)("div",{style:{flex:3,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"bold"},children:t.newItem&&"New Chat"!=t.title?(0,l.jsx)(ew,{historyList:i,setHistoryList:c,index:s,text:t.title||("images"===o?"New Images":"New Chat")}):t.title||("images"===o?"New Images":"New Chat")}),d&&(0,l.jsxs)("div",{style:{flex:1,display:"flex",justifyContent:"space-around"},children:[1===v&&!_&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:S,children:(0,l.jsx)(g.Z,{className:"w-4 h-4 fill-n-4 transition-colors group-hover:text-primary-1",name:"edit"})}),(0,l.jsx)("button",{onClick:O,children:(0,l.jsx)(g.Z,{className:"w-4 h-4 fill-n-4 transition-colors group-hover:text-primary-1",name:"trash"})})]}),_&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:e=>R(e),children:(0,l.jsx)(g.Z,{className:"w-4 h-4 fill-n-4 transition-colors group-hover:text-primary-1",name:"check"})}),(0,l.jsx)("button",{onClick:H,children:(0,l.jsx)(g.Z,{className:"w-4 h-4 fill-n-4 transition-colors group-hover:text-primary-1",name:"close"})})]})]})]})})})})},ek=e=>{let{handleChatClick:t,handleNewChatClick:s}=e,{mode:a}=(0,w.v9)(e=>e.config),[n,o]=(0,r.useState)("0"),i=(0,w.I0)(),{historyList:c}=(0,w.v9)(e=>e.chat),d=(0,ej.Yz)(c.map((e,t)=>e={...e,index:t}),{key:e=>e.id,from:{opacity:1,transform:"translateX(0%)"},enter:{opacity:1,transform:"translateX(0%)"},leave:{opacity:0,transform:"translateX(100%)"},immediate:!(c.length>1)});(0,r.useEffect)(()=>{c.length>0&&"1"!=n?o("1"):0==c.length&&o("2")},[c,n]);let m=e=>{i((0,er.VH)({...e,newChat:2})),t()};return(0,l.jsxs)(l.Fragment,{children:["0"==n&&(0,l.jsx)(en,{}),"1"==n&&c&&c.length>0&&d((e,t)=>(0,l.jsx)(ej.q.div,{style:{...e,position:"relative"},children:(0,l.jsx)(eN,{item:t,index:t.index,mode:a,onClick:()=>{m(t)},onDeleteClick:e=>s(e),historyList:c,setHistoryList:e=>i((0,er.vK)(e))},t.id)})),"2"==n&&(0,l.jsx)(eo,{})]})};var eT=s(6154);let eE=e=>{let{routeChange:t,routeComplete:s}=e,l=(0,x.useRouter)();(0,r.useEffect)(()=>{let e=e=>{console.log("页面即将切换:",e),t&&t()},r=e=>{console.log("页面切换完成:",e),s&&s()};return l.events.on("routeChangeStart",e),l.events.on("routeChangeComplete",r),()=>{l.events.off("routeChangeStart",e),l.events.off("routeChangeComplete",r)}},[l])},eC=e=>{let{className:t,visible:s,mode:a,overCallBack:n,onHideRightSidebar:i,hideRight:c}=e,d="RIGHT_HISTORY_TIPS",u="RECHARGE_TIPS",[x,p]=(0,r.useState)(0),{rightHistoryTips:f,rightRechargeTips:v,visibleSidebar:j,setVisibleSidebar:_,visibleRightSidebar:N,setStatusDataReset:k,setChatEdit:T}=(0,r.useContext)(ed.p),[E,C]=(0,r.useState)(!1),{language:{browserLanguage:S}}=(0,w.v9)(e=>e),{userInfo:{globalOrgId:I}}=(0,w.v9)(e=>e),[R,O]=(0,r.useState)(null),H=(0,r.useRef)(null),M=(0,r.useRef)(null),[Z,F]=(0,r.useState)(!1),P=(0,r.useRef)(null),[D,B]=(0,r.useState)(!1),U=e=>{let{scrollTop:t,scrollHeight:s,clientHeight:l}=P.current,r=s-t<=l+1;r&&!D?(console.log(r,"到底了去加载更多历史记录"),B(r)):!r&&D&&(console.log(r,"没到底"),B(r))},Q=(0,w.I0)(),{modelData:Y,chatModelParams:q}=(0,w.v9)(e=>e.model),{imagesModelData:K,imagesChatModelParams:J}=(0,w.v9)(e=>e.imagesModel),{historyList:ee}=(0,w.v9)(e=>e.chat),et="images"===a?J.find(e=>e.model_id===K.model_id):q.find(e=>e.model_id===Y.model_id),es=eT.Z.CancelToken.source();(0,r.useEffect)(()=>{let e=async()=>{try{let e=await("search"===a?(0,y.Rv)(I,es.token):"chat"===a?(0,y.BB)(I,es.token):(0,y.QW)(I,es.token));e.success&&Q((0,er.vK)(e.data))}catch(e){console.error(e)}};console.log(I,"RightSidebar globalOrgId"),I&&e()},[Q,I,a]),eE({routeChange:()=>{es.cancel("The page has been uninstalled.")}});let el=async()=>{await(0,ea.hc)(e=>{O(e)})};(0,G.Z)(()=>{try{let e=(0,ea.bh)(d),t=(0,ea.bh)(u);"ok"==e&&t||el(),"ok"==e&&F(!0)}catch(e){console.error(e)}});let en=(0,m.useMediaQuery)({query:"(max-width: 769px)"});(0,r.useEffect)(()=>{let e=(0,ea.bh)(d);if(R&&"ok"!=e&&(!en||en&&N)){let e=(0,ea.bh)("CHAT_TIPS"),t=(0,ea.bh)("SEARCH_TIPS"),s=(0,ea.bh)("IMAGES_TIPS"),l="chat"==a&&"ok"==e,r="search"==a&&"ok"==t,n="images"==a&&"ok"==s;if(console.log("进来第一步骤"),console.log(ee.length,"historyList.length"),console.log(!Z,"!driverShow"),console.log(l,"chatPage"),console.log(r,"searchPage"),console.log(n,"imagesPage"),ee.length>0&&!Z&&(l||r||n)){console.log("进来第二步骤");let e=R.right_history_tips,t=(0,ea.zm)({steps:[{element:"#history_clear",popover:{title:e.steps0.title[S],description:e.steps0.description[S]}},{element:"#history",popover:{title:e.steps1.title[S],description:e.steps1.description[S]}},{element:"#history_item0",popover:{title:e.steps2.title[S],description:e.steps2.description[S]}},{element:"#newChatButton",popover:{title:e.steps3.title[S],description:e.steps3.description[S]}}],onPrev(){(0,ea.PQ)(d,t.getState().activeIndex-1)},onNext(){(0,ea.PQ)(d,t.getState().activeIndex)},onComplete(){(0,ea.PQ)(d,"ok")}});H.current=t,t.drive(),F(!0)}}},[ee,a,Z,f,R,S,j,s,en,c,N]);let eo=async e=>{W.Am.dismiss(e.id);try{let e=await("search"===a?(0,y.Yy)(I):"chat"===a?(0,y.TF)(I):(0,y.lU)(I));e.success&&(eu(!0),ei(),Q((0,er.Hr)({page:a,status:"new_chat"})))}catch(e){console.error("删除历史记录失败: ",e)}},ei=e=>{Q((0,L.yA)()),Q((0,er.Hr)({page:a,status:"new_chat"})),eh(),eu(),n(),k(!0),T(!1)},em=()=>{Q((0,er.Hr)({page:a,status:"dialogue"})),eh(!1),Q((0,L.yA)()),k(!0),n()},eh=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];"images"===a?Q((0,er.N_)({id:"",title:"New Images",model:null==et?void 0:et.model_id,params:{},params_def:[],created_at:"",user_message:"",images:{}})):Q((0,er.fb)({conversations:[],conv_tree:[],topic:{id:"",format_version:"chat"==a?2:0,model:e?null==et?void 0:et.model_id:"",title:"",params:{},params_def:[]}}))},eu=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Q((0,er.VH)({id:null,title:null,newChat:1})),e&&Q((0,er.vK)([]))};return(0,r.useEffect)(()=>{try{console.log(R,"jsonTips");let e=(0,ea.bh)(u);if(R&&Z&&"ok"!=e&&v){let e=(0,ea.zm)({showButtons:["close"],showProgress:!1,steps:[{element:"#RECHARGE",popover:{title:R.recharge.title[S],description:R.recharge.description[S]}}],onComplete(){(0,ea.PQ)("RECHARGE_TIPS","ok")}});M.current=e,e.drive()}}catch(e){console.log(e,"error")}},[S,Z,R,v]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:(0,o.m)("absolute top-0 right-0 bottom-0 flex flex-col w-[19.5rem] pt-[4rem]  bg-n-1 rounded-r-[1.25rem] border-l border-n-3 shadow-[inset_0_1.5rem_3.75rem_rgba(0,0,0,0.1)] 2xl:w-80 lg:rounded-[1.25rem] lg:invisible lg:opacity-0 lg:transition-opacity lg:z-20 lg:border-l-0 lg:shadow-2xl md:fixed md:w-[calc(100%-4rem)] md:border-l md:rounded-none dark:bg-n-6 dark:border-n-5 ".concat(s?"lg:visible lg:opacity-100":""," ").concat(t," ").concat(c?"w-[0!important] overflow-hidden opacity-0":"")),onClick:()=>{N&&_(!0)},children:[(0,l.jsxs)("div",{className:"absolute top-0 left-0 right-0 flex items-center h-18 px-9 border-b border-n-3 lg:pr-18 md:pr-16 dark:border-n-5 justify-between",children:[(0,l.jsx)(h(),{minWidth:1023,children:(0,l.jsx)(z.default,{placement:"left",title:"Close sidebar",trigger:["click","hover"],children:(0,l.jsx)("button",{className:"group tap-highlight-color",onClick:e=>{e.stopPropagation(),i()},children:(0,l.jsx)(g.Z,{className:"fill-n-4 transition-colors group-hover:fill-n-5 dark:group-hover:fill-n-3",name:"toggle-on"})})})}),(0,l.jsxs)("div",{className:"flex items-center justify-end flex-1",children:[(0,l.jsx)(X,{}),(0,l.jsx)("button",{className:"btn-dark btn-medium",onClick:e=>{e.stopPropagation(),M.current&&M.current.destroy(),C(!0)},id:"RECHARGE",children:A.RECHARGE_NAME[S]||A.RECHARGE_NAME.en})]})]}),"chat"===a||"images"===a?(0,l.jsx)("div",{className:"mx-6 my-3 mt-5",style:{border:"1px solid #",borderRadius:"10px",boxShadow:" 2px 2px 10px rgba(0,0,0,.3)"},children:(0,l.jsx)($,{setActiveIndex:p,activeIndex:x})}):(0,l.jsx)("div",{className:"p-3"}),0===x?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:" left-0 right-0 flex items-center px-6 md:px-6 pb-1",id:"history_clear",children:[(0,l.jsx)("div",{className:"base2 text-n-4/75",children:A.HOME_RIGHT_HISTORY_MESSAGE[S]||A.HOME_RIGHT_HISTORY_MESSAGE.en}),ee&&0!=ee.length&&(0,l.jsxs)("button",{className:"group relative ml-auto text-0",onClick:e=>{e.stopPropagation(),(0,W.Am)(e=>(0,l.jsxs)(V.Z,{className:"md:flex-col md:items-center md:px-10",iconDelete:!0,children:[(0,l.jsx)("div",{className:"ml-3 mr-6 h6 md:mx-0 md:my-2",children:"Clear all history?"}),(0,l.jsxs)("div",{className:"flex justify-center",children:[(0,l.jsx)("button",{className:"btn-stroke-light btn-medium md:min-w-[6rem]",onClick:()=>W.Am.dismiss(e.id),children:"Cancel"}),(0,l.jsx)("button",{className:"btn-blue btn-medium ml-3 md:min-w-[6rem]",onClick:()=>eo(e),children:"Yes"})]})]}),{duration:1e4})},children:[(0,l.jsx)(g.Z,{className:"w-5 h-5 fill-n-4 transition-colors group-hover:fill-accent-1",name:"trash"}),(0,l.jsx)("div",{className:"absolute min-w-[8rem] top-1/2 -translate-y-1/2 right-full mr-2 px-2 py-1 rounded-lg bg-n-7 caption1 text-n-1 invisible opacity-0 transition-opacity pointer-events-none lg:hidden after:absolute after:top-1/2 after:left-full after:-translate-y-1/2 after:w-0 after:h-0 after:border-t-4 after:border-l-4 after:border-b-4 after:border-r-4 after:border-r-transparent after:border-l-n-7 after:border-t-transparent after:border-b-transparent group-hover:opacity-100 group-hover:visible",children:"Clear History"})]})]}),(0,l.jsxs)("div",{className:"history overflow-y-auto pb-[4.5rem]  ",children:[(0,l.jsx)("div",{className:"grow px-3 overflow-y-auto overflow-x-hidden h-full scrollbar-test",id:"history",ref:P,onScroll:U,children:(0,l.jsx)(ek,{handleChatClick:em,handleNewChatClick:ei})}),(0,l.jsx)("div",{className:"absolute left-0 right-0 bottom-0 px-6 py-3 bg-white dark:bg-n-6 rounded-br-[1.25rem] lg:rounded-[1.25rem] md:rounded-none",children:(0,l.jsxs)("button",{className:"btn-blue w-full",onClick:e=>{e.stopPropagation(),ei()},id:"newChatButton",children:[(0,l.jsx)(g.Z,{name:"plus"}),(0,l.jsxs)("span",{children:["  ",A.HOME_RIGHT_BOTTOM_NEWCHAT[S]||A.HOME_RIGHT_BOTTOM_NEWCHAT.en]})]})})]})]}):(0,l.jsx)(ec,{mode:a,handleNewChatClick:ei})]}),(0,l.jsx)(b.Z,{className:"md:!p-0",classWrap:"max-w-[54rem] md:min-h-screen-ios md:rounded-none dark:bg-n-7",classButtonClose:"hidden md:block md:absolute md:top-5 md:right-5 dark:fill-n-4",classOverlay:"md:bg-n-1",visible:E,onClose:()=>C(!1),children:E&&(0,l.jsx)(ev,{})})]})},eS=e=>{let{className:t,onClick:s,visibleRightSidebar:a}=e,[n,o]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{o(!0)},[]),n?(0,l.jsx)(h(),{maxWidth:1023,children:(0,l.jsxs)("button",{className:" z-[25] shrink-0 flex flex-col items-center justify-center w-8 h-8 my-5 md:my-3 ml-auto mr-6 tap-highlight-color absolute top-0 right-0 m-0 print-hide ".concat(a?"md:!fixed":""," ").concat(t||""),onClick:s,children:[(0,l.jsx)("span",{className:"w-5 h-0.5 my-0.5 bg-n-7 rounded-full transition-all dark:bg-n-4 ".concat(a&&"translate-y-0.75 rotate-45")}),(0,l.jsx)("span",{className:"w-5 h-0.5 my-0.5 bg-n-7 rounded-full transition-all dark:bg-n-4 ".concat(a&&"-translate-y-0.75 -rotate-45")})]})}):null};var eI=s(37291),eR=s(4738);let eO=e=>{let{showClose:t,smallSidebar:s,hideRightSidebar:a,hideLeftSidebar:c,backUrl:u,children:x,rightSidebarMode:p}=e,f=localStorage.getItem("RIGHT_HIDE_STATUS"),b=localStorage.getItem("LEFT_HIDE_STATUS"),{visibleSidebar:v,setVisibleSidebar:j,visibleRightSidebar:_,setVisibleRightSidebar:y,filesShow:w,setFileShow:N,chatEdit:k,filesChatList:T,setFileChatList:E,filesList:C,setFileList:S}=(0,r.useContext)(ed.p),{fileChange:I,filesMax:R,filesMaxSize:O,maxSize:H,maxLength:A}=(0,eI.Z)({filesList:k?T:C,setFileList:k?E:S}),[M,L]=(0,r.useState)("true"===f),Z=(0,r.useRef)(null),F=(0,m.useMediaQuery)({query:"(max-width: 1179px)"});(0,G.Z)(()=>{j(b?"true"===b:s||!1)});let P=e=>{y(!1),(0,i.clearQueueScrollLocks)(),(0,i.enablePageScroll)(),"history"!=e&&j(!0)};return(0,r.useEffect)(()=>{console.log(F,"isDesktop"),b?j("true"===b):j(s||F)},[F,s,b]),(0,l.jsxs)(l.Fragment,{children:[(0,eR.Z)({maxSize:H,maxLength:A,filesMax:R,filesMaxSize:O}),(0,l.jsx)(d(),{children:(0,l.jsx)("title",{children:"Theb.ai"})}),(0,l.jsxs)("div",{className:"pr-6 bg-n-7 md:p-0 md:bg-n-1 dark:md:bg-n-6 md:overflow-hidden ".concat(v?"pl-24 md:pl-0":s?"pl-24 md:pl-0":"pl-[17.5rem] xl:pl-24 md:pl-0"),children:[(0,l.jsx)(h(),{minWidth:1024,onChange:e=>{j(!e)}}),!c&&(0,l.jsx)(U,{value:v,setValue:j,visibleRightSidebar:_,smallSidebar:s}),(0,l.jsx)("div",{className:"flex scroll-container py-6 md:py-0 ".concat(a?"min-h-screen min-h-screen-ios":"h-screen h-screen-ios"),children:(0,l.jsxs)("div",{className:"relative flex grow max-w-full bg-n-1 rounded-[1.25rem] md:rounded-none dark:bg-n-6 ".concat(!a&&!M&&"pr-[19.5rem] 2xl:pr-80 lg:pr-0"),children:[(0,l.jsxs)("div",{ref:Z,onDrop:e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files;console.log("Dropped files:",t),I(t),N(!1)},onDragEnter:e=>{e.preventDefault(),e.stopPropagation(),w||(console.log("去显示"),N(!0))},onDragLeave:e=>{e.preventDefault(),e.stopPropagation();let t=e.target,s=Z.current;s&&!s.contains(t)&&N(!1)},className:"relative flex flex-col grow max-w-full",id:"print-view",children:[!a&&(0,l.jsx)(eS,{visibleRightSidebar:_,onClick:()=>{y(!_)}}),M&&(0,l.jsx)(h(),{minWidth:1023,children:(0,l.jsx)("button",{className:"group tap-highlight-color absolute top-6 right-4 cursor-pointer z-30",onClick:()=>{L(!1),localStorage.setItem("RIGHT_HIDE_STATUS","false")},children:(0,l.jsx)(g.Z,{className:"fill-n-4 transition-colors group-hover:fill-n-5",name:"toggle-off"})})}),a&&s||t&&(0,l.jsx)(n(),{className:"absolute top-6 right-6 flex justify-center items-center w-10 h-10 border-2 border-n-4/25 rounded-full text-0 transition-colors hover:border-transparent hover:bg-n-4/25",href:u||"/home",children:(0,l.jsx)(g.Z,{className:"fill-n-4",name:"close"})}),x]}),!a&&(0,l.jsx)(eC,{className:"".concat(v?"":"md:translate-x-[13rem] md:before:absolute md:before:z-30 md:before:inset-0"),visible:_,mode:p,overCallBack:()=>{P("history")},onHideRightSidebar:()=>{console.log("用户请求缩小右边内容"),L(!0),localStorage.setItem("RIGHT_HIDE_STATUS","true")},hideRight:M})]})}),(0,l.jsx)("div",{className:(0,o.m)("fixed inset-0 z-10 bg-n-7/80 invisible opacity-0 md:hidden ".concat(!v&&s||_&&"visible opacity-100")),onClick:()=>{P()}})]})]})};var eH=eO},7938:function(e,t,s){"use strict";var l=s(85893);s(67294);var r=s(38373),a=s.n(r),n=s(66180),o=s(12498);let i=()=>{let{colorMode:e}=(0,o.If)(),t="light"===e;return console.log(t,"isLightMode"),(0,l.jsx)("div",{className:a().sw_loading,children:(0,l.jsxs)("svg",{className:(0,n.m)(a().sw,"w-18 h-18"),viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("defs",{children:(0,l.jsxs)("linearGradient",{id:"pl-grad",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,l.jsx)("stop",{offset:"0%",stopColor:"hsl(193,90%,55%)"}),(0,l.jsx)("stop",{offset:"100%",stopColor:"hsl(223,90%,55%)"})]})}),(0,l.jsx)("circle",{className:t?a().sw_ring_dark:a().sw_ring,r:"56",cx:"64",cy:"64",fill:"none",stroke:"hsla(0,10%,10%,0.1)",strokeWidth:"16",strokeLinecap:"round"}),(0,l.jsx)("path",{className:a().sw_worm,d:"M92,15.492S78.194,4.967,66.743,16.887c-17.231,17.938-28.26,96.974-28.26,96.974L119.85,59.892l-99-31.588,57.528,89.832L97.8,19.349,13.636,88.51l89.012,16.015S81.908,38.332,66.1,22.337C50.114,6.156,36,15.492,36,15.492a56,56,0,1,0,56,0Z",fill:"none",stroke:"url(#pl-grad)",strokeWidth:"16",strokeLinecap:"round",strokeLinejoin:"round",strokeDasharray:"44 1111",strokeDashoffset:"10"})]})})};t.Z=i},20104:function(e,t,s){"use strict";var l=s(85893),r=s(41664),a=s.n(r),n=s(67294),o=s(12498),i=s(9892);let c=e=>{let{dark:t,className:s,onClick:r}=e,[c,d]=(0,n.useState)(!1),{colorMode:m}=(0,o.If)();return(0,n.useEffect)(()=>{let e=window.matchMedia("(prefers-color-scheme: dark)");d(e.matches);let t=()=>d(e.matches);return e.addEventListener("change",t),()=>e.removeEventListener("change",t)},[]),(0,l.jsx)(a(),{className:"flex w-[11.88rem] ".concat(s),href:"/",onClick:r,children:(0,l.jsx)(i.Z,{className:"w-full h-auto",src:t?"/images/theb-ai.svg":"light"===m?"/images/theb.ai4.svg":"/images/theb-ai.svg",width:190,height:40,alt:"TheB.AI"})})};t.Z=c},26970:function(e,t,s){"use strict";var l=s(85893),r=s(67294),a=s(11355),n=s(18968),o=s(66180),i=s(44319);let c=e=>{let{className:t,classWrap:s,classOverlay:c,classButtonClose:d,visible:m,onClose:h,initialFocus:u,children:g,video:x}=e,p=e=>{e.stopPropagation()};return(0,l.jsx)(a.u,{show:m,as:r.Fragment,children:(0,l.jsxs)(n.V,{initialFocus:u,className:"fixed inset-0 z-50 flex p-6 overflow-auto scroll-smooth md:px-4 ".concat(t),onClose:h,children:[(0,l.jsx)(a.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)("div",{className:"fixed inset-0 ".concat(x?"bg-n-7/95":"bg-n-7/75 dark:bg-n-6/90"," ").concat(c),"aria-hidden":"true"})}),(0,l.jsx)(a.u.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 ".concat(!x&&"scale-95"),enterTo:"opacity-100 ".concat(!x&&"scale-100"),leave:"ease-in duration-200",leaveFrom:"opacity-100 ".concat(!x&&"scale-100"),leaveTo:"opacity-0 ".concat(!x&&"scale-95"),children:(0,l.jsxs)(n.V.Panel,{className:(0,o.m)("relative z-10 max-w-[37.5rem] w-full m-auto bg-n-1 rounded-3xl dark:bg-n-7 ".concat(x&&"static max-w-[64rem] aspect-video rounded-[1.25rem] bg-n-7 overflow-hidden shadow-[0_2.5rem_8rem_rgba(0,0,0,0.5)]"," ").concat(s)),onClick:p,children:[g,(0,l.jsx)("button",{className:(0,o.m)("text-0 fill-n-7 hover:fill-primary-1 ".concat(x&&"absolute top-6 right-6 w-10 h-10 bg-n-1 rounded-full"," ").concat(d)),onClick:h,children:(0,l.jsx)(i.Z,{className:"fill-inherit transition-colors",name:"close"})})]})})]})})};t.Z=c},78270:function(e,t,s){"use strict";var l=s(85893),r=s(64729),a=s(11355),n=s(66180),o=s(44319),i=s(67294);let c=e=>{let{label:t,title:s,icon:c,className:d,classButton:m,classArrow:h,classOptions:u,classOption:g,classIcon:x,placeholder:p,items:f,value:b,onChange:v,small:j,up:_,disable:y}=e;return(0,l.jsxs)("div",{className:"relative ".concat(d),children:[t&&(0,l.jsx)("div",{className:"flex mb-2 base2 font-semibold",children:t}),(0,l.jsx)(r.R,{value:b,onChange:v,children:e=>{let{open:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(r.R.Button,{className:(0,n.m)("flex items-center w-full h-[3.25rem] px-4 rounded-xl bg-n-1 base2 outline-none tap-highlight-color ".concat(j?"h-9 pr-3 rounded-md shadow-[0_0.125rem_0.25rem_rgba(0,0,0,0.15)] dark:shadow-[0_0.125rem_0.25rem_rgba(0,0,0,0.15),inset_0_0_0_0.0625rem_rgba(254,254,254,.1)] dark:bg-n-6 ".concat(t&&"shadow-[0_0.125rem_0.25rem_rgba(0,0,0,0.15)]"):"shadow-[inset_0_0_0_0.0625rem_#E8ECEF] dark:shadow-[inset_0_0_0_0.0625rem_#343839] dark:bg-transparent ".concat(t&&"!shadow-[inset_0_0_0_0.125rem_#0084FF]")," ").concat(m)),children:[s&&(0,l.jsx)("div",{className:"shrink-0 mr-2 pr-2 border-r border-n-3 text-n-4 dark:border-n-4/50",children:s}),c&&(0,l.jsx)(o.Z,{className:"shrink-0 mr-2 dark:fill-n-4 ".concat(j&&"w-5 h-5 mr-1.5"," ").concat(x),name:c}),(null==b?void 0:b.color)&&(0,l.jsx)("div",{className:"shrink-0 w-3.5 h-3.5 ml-1 mr-4 rounded",style:{backgroundColor:b.color}}),(null==b?void 0:b.icon)&&(0,l.jsx)(o.Z,{className:"w-5 h-5 mr-3 dark:fill-n-1",name:b.icon}),(0,l.jsx)("span",{className:"mr-auto truncate ".concat(j&&"font-semibold"),children:b?b.name||b.title:(0,l.jsx)("span",{className:"text-n-4",children:p})}),(0,l.jsx)(o.Z,{className:"shrink-0 ml-2 transition-transform dark:fill-n-1 ".concat(t&&"rotate-180"," ").concat(j&&"ml-1"," ").concat(h),name:"arrow-down"})]}),(0,l.jsx)(a.u,{leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,l.jsx)(r.R.Options,{className:(0,n.m)("absolute left-0 right-0 w-full mt-2 p-2 bg-n-1 rounded-lg shadow-[0_0_1rem_0.25rem_rgba(0,0,0,0.04),0_2rem_2rem_-1.5rem_rgba(0,0,0,0.1),inset_0_0_0_0.0625rem_#E8ECEF] outline-none dark:shadow-[0_0_1rem_0.25rem_rgba(0,0,0,0.04),0_2rem_2rem_-1.5rem_rgba(0,0,0,0.1),inset_0_0_0_0.0625rem_#343839] dark:bg-n-6 ".concat(j&&"right-auto mt-1 shadow-md"," ").concat(_&&"top-auto bottom-full mt-0 ".concat(j?"mb-1":"mb-2")," ").concat(t&&"z-20"," ").concat(u,"    max-h-60  overflow-auto rounded-md  py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm")),children:Array.isArray(f)&&f.length>0&&f.map(e=>e.bigTitle?(0,l.jsx)(i.Fragment,{},e.id):(0,l.jsxs)(r.R.Option,{className:"flex items-start p-2 rounded-lg base2 text-n-4 transition-colors cursor-pointer hover:text-n-7 ui-selected:!bg-n-3/50 ui-selected:!text-n-7 tap-highlight-color dark:hover:text-n-3 dark:ui-selected:!bg-n-7 dark:ui-selected:!text-n-1 ".concat(j&&"py-1 font-semibold"," ").concat(g),value:e,children:[e.color&&(0,l.jsx)("div",{className:"shrink-0 w-3.5 h-3.5 mt-[0.3125rem] ml-1 mr-4 rounded",style:{backgroundColor:e.color}}),e.icon&&(0,l.jsx)(o.Z,{className:"w-5 h-5 mt-0.5 mr-3 dark:fill-n-1",name:e.icon}),(0,l.jsx)("div",{className:"mr-auto",children:e.name||e.title}),!j&&(0,l.jsx)(o.Z,{className:"hidden w-5 h-5 ml-2 mt-0.5 fill-n-7 ui-selected:inline-block dark:fill-n-1",name:"check-thin"})]},e.id))})})]})}}),y&&(0,l.jsx)("div",{className:" absolute top-0 right-0 left-0 bottom-0 w-full h-full cursor-not-allowed"})]})};t.Z=c},65880:function(e,t,s){"use strict";s.d(t,{p:function(){return r}});var l=s(67294);let r=(0,l.createContext)({rightHistoryTips:null,setRightHistoryTips:e=>{},rightRechargeTips:null,setRightRechargeTips:e=>{},visibleRightSidebar:!1,setVisibleRightSidebar:e=>{},visibleSidebar:!1,setVisibleSidebar:e=>{},statusDataReset:!1,setStatusDataReset:e=>{},pluginsSelect:[],setPluginsSelect:e=>{},pluginsStatus:"Default",setPluginsStatus:e=>{},filesList:[],setFileList:e=>{},filesChatList:[],setFileChatList:e=>{},filesShow:!1,setFileShow:e=>{},chatEdit:!1,setChatEdit:e=>{}})},37291:function(e,t,s){"use strict";var l=s(67294),r=s(57632),a=s(23330),n=s(98287),o=s(4869),i=s(6154);let c=e=>{let{eQuantity:t=0,maxLength:s=n.aH.fileLength,maxSize:c=n.aH.fileSize,filesList:d,setFileList:m}=e,[h,u]=(0,l.useState)(!1),[g,x]=(0,l.useState)(!1),p=(0,l.useRef)(d),f=(0,l.useRef)({});(0,l.useEffect)(()=>{p.current=d,_()},[d]);let b=()=>(0,r.Z)(),v=()=>1048576*c,j=e=>{if((0,a.hu)(e,"absent fileList"),e){let r=Array.from(e).map(e=>({id:b(),file:e,progress:0,url:"",status:"uploading"})),a=p.current.length+r.length,n=v(),c=r.filter(e=>e.file.size<=n);c.length!=r.length&&(console.log("一些文件超过了最大文件大小限制"),x(!0),setTimeout(()=>{x(!1)},1e3));let d=[];if(a+t<=s)console.log(c,"validFiles"),d=c,p.current=p.current.concat(c),m(p.current);else{let e=c.slice(0,s-(p.current.length+t));console.log("已经移除了一些文件以保持总数在maxLength个以下");try{u(!0),setTimeout(()=>{u(!1)},1e3),d=e,p.current=p.current.concat(e),m(p.current)}catch(e){console.error(e,"error")}}d.forEach(async e=>{try{let t=i.Z.CancelToken.source();f.current[e.id]=t;let s=new FormData;s.append("file",e.file);let l=await(0,o.cT)(s,t.token,t=>{let s=t.loaded/t.total*100;e.progress=s,console.log(s,"progress"),100==s&&(e.status="loading"),p.current=[...p.current],m(p.current)});console.log(l.data,"formData"),l.success&&(e.status="done",e.url=l.data.url,p.current=[...p.current],m(p.current))}catch(t){console.error(t),e.status="error",p.current=[...p.current],m(p.current)}});try{var l=document.querySelector(".file-value-clear");l&&l instanceof HTMLInputElement&&(l.value=""),console.log("fileTarget.value 清零")}catch(e){}}},_=()=>{let e=p.current.map(e=>e.id),t=Object.keys(f.current);t.forEach(t=>{if(!e.includes(t)){let e=f.current[t];e.cancel("请求被取消"),delete f.current[t]}})};return{fileChange:j,filesMax:h,filesMaxSize:g,maxLength:s,maxSize:c}};t.Z=c},4738:function(e,t,s){"use strict";var l=s(85893),r=s(67294),a=s(11187);t.Z=function(e){let{maxLength:t,maxSize:s,filesMax:n,filesMaxSize:o}=e,[i,c]=a.ZP.useMessage();return(0,r.useEffect)(()=>{n&&i.open({type:"error",content:"Too many files uploaded. Maximum number of files at a time is "+t}),o&&i.open({type:"error",content:"File is too large. Maximum file size is ".concat(s,"MB")})},[n,o]),(0,l.jsx)(l.Fragment,{children:c})}},86892:function(e,t,s){"use strict";var l=s(67294);let r=e=>{let t=(0,l.useRef)(!1);(0,l.useEffect)(()=>{t.current||(t.current=!0,e())},[e])};t.Z=r},20947:function(e,t,s){"use strict";var l=s(9473),r=s(51222),a=s(86892),n=s(33631),o=s(62161),i=s(23330),c=s(11163),d=s(67294);t.Z=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];let e=(0,l.I0)(),t=(0,c.useRouter)(),s=async()=>{let t=await(0,i.n4)();t?(console.log("版本更新了"),e((0,o.Dg)()),e((0,r.XR)()),localStorage.removeItem("PLUGINS_SELECT_DATA")):e((0,o.Dg)())};(0,d.useEffect)(()=>{s()},[]),(0,a.Z)(async()=>{let s=async()=>{try{let s=await e((0,r.PG)());if(null!=s.payload){let{organizations:l}=s.payload,a="";l.length>0?a=localStorage.getItem("globalOrgId")||l[0].id:t.replace("/org_error"),console.log(a,"orgId"),e((0,r.IM)(a))}}catch(e){console.error(e,"error111")}};s(),(()=>{let t=navigator.language.substring(0,2),s=navigator.language.toLowerCase();("zh-hk"==s||"zh-tw"==s)&&(t="zh-ft");let l=localStorage.getItem("language");l?e((0,n.EK)(l)):(localStorage.setItem("language",t),e((0,n.EK)(t)))})()})}},50733:function(e,t,s){"use strict";s.d(t,{PQ:function(){return o},bh:function(){return i},hc:function(){return c},zm:function(){return n}});var l=s(3942);s(61243);var r=s(4869),a=s(98287);let n=e=>{let{onNext:t,onPrev:s,onDone:r,onClose:a,onComplete:n}=e,o=(0,l.v)({showProgress:!0,onNextClick:()=>{void 0!=o.hasNextStep()?(o.moveNext(),t&&t()):(o.moveNext(),r&&r(),n&&n())},onPrevClick:()=>{console.log("Previous Button Clicked"),s&&s(),o.movePrevious()},onCloseClick:()=>{console.log("Close Button Clicked"),a&&a(),n&&n(),o.destroy()},onDestroyed(e,t,s){console.log("onDestroyed"),n&&n()},...e});return o},o=(e,t)=>{localStorage.setItem(e,"".concat(t))},i=e=>localStorage.getItem(e),c=async e=>{try{let t=localStorage.getItem("Driver"+a.Tw);if(t)return e(JSON.parse(t)),!1;for(let e=0;e<localStorage.length;e++){let t=localStorage.key(e);t.includes("Driver")&&localStorage.removeItem(t)}let s=await(0,r.L$)();s.success?(localStorage.setItem("Driver"+a.Tw,JSON.stringify(s.data)),e(s.data)):e(!1)}catch(t){console.log(t,"error"),e(!1)}}},38373:function(e){e.exports={sw_loading:"loading_sw_loading__wz9zV",sw:"loading_sw__JK0Do",sw_worm:"loading_sw_worm__FveMs",bump:"loading_bump__D_BMC",sw_ring:"loading_sw_ring__JMV3S",sw_ring_dark:"loading_sw_ring_dark__l5jN_",worm:"loading_worm__m_iUC"}},88107:function(e){e.exports={sw_buttonlast:"RechargeDetails_sw_buttonlast__IyhqN"}},19205:function(e){e.exports={settingsContainer:"Settings_settingsContainer__L3ZWL",fixedSize:"Settings_fixedSize__tPYrc",settingsItem:"Settings_settingsItem__PYjLk",box:"Settings_box__zTwsR",sliderLabel:"Settings_sliderLabel__O_Wf2",label:"Settings_label__z_vxF",input:"Settings_input__SR9sG",inputs:"Settings_inputs__CxkKn"}}}]);